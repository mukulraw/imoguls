package internetmoguls.com.imoguls;import android.content.Context;import android.content.Intent;import android.content.SharedPreferences;import android.graphics.Color;import android.support.annotation.NonNull;import android.support.design.widget.NavigationView;import android.support.v4.app.FragmentManager;import android.support.v4.app.FragmentTransaction;import android.support.v4.widget.DrawerLayout;import android.support.v7.app.ActionBarDrawerToggle;import android.support.v7.app.AppCompatActivity;import android.os.Bundle;import android.support.v7.widget.Toolbar;import android.util.Log;import android.view.MenuItem;import android.view.View;import android.widget.LinearLayout;import android.widget.TextView;public class DefaultPage extends AppCompatActivity  {    SharedPreferences pref;    SharedPreferences.Editor edit;    DrawerLayout drawer;    FragmentManager fm;    LinearLayout layoutToReplace;    TextView clickHotels;    TextView asiana1 , continental1 , elite1;    boolean isCollapsed = true;    Toolbar toolbar;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_default_page);        pref = getSharedPreferences("myPref", Context.MODE_PRIVATE);        edit = pref.edit();        clickHotels = (TextView)findViewById(R.id.click_hotel);        asiana1 = (TextView)findViewById(R.id.menu_asiana);        continental1 = (TextView)findViewById(R.id.menu_continental);        elite1 = (TextView)findViewById(R.id.menu_elite);        if (isCollapsed)        {            clickHotels.setCompoundDrawablesWithIntrinsicBounds(0 , 0 , R.drawable.down , 0);            asiana1.setVisibility(View.GONE);            continental1.setVisibility(View.GONE);            elite1.setVisibility(View.GONE);        }        else        {            clickHotels.setCompoundDrawablesWithIntrinsicBounds(0 , 0 , R.drawable.up , 0);            asiana1.setVisibility(View.VISIBLE);            continental1.setVisibility(View.VISIBLE);            elite1.setVisibility(View.VISIBLE);        }        clickHotels.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                if (isCollapsed)                {                    clickHotels.setCompoundDrawablesWithIntrinsicBounds(0 , 0 , R.drawable.up , 0);                    asiana1.setVisibility(View.VISIBLE);                    continental1.setVisibility(View.VISIBLE);                    elite1.setVisibility(View.VISIBLE);                    isCollapsed = false;                }                else                {                    clickHotels.setCompoundDrawablesWithIntrinsicBounds(0 , 0 , R.drawable.down , 0);                    asiana1.setVisibility(View.GONE);                    continental1.setVisibility(View.GONE);                    elite1.setVisibility(View.GONE);                    isCollapsed = true;                }            }        });        asiana1.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                Log.d("asdasdasdasd" , "asiana clicked");                FragmentTransaction t1 = getSupportFragmentManager().beginTransaction();                AsianaFragment frag1 = new AsianaFragment();                t1.replace(R.id.container_layout , frag1);                toolbar.setTitle("Kohinoor Asiana");                toolbar.setTitleTextColor(Color.WHITE);                t1.commit();            }        });        continental1.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                Log.d("asdasdasdasd" , "continental clicked");                FragmentTransaction t1 = getSupportFragmentManager().beginTransaction();                ContinentalFragment frag1 = new ContinentalFragment();                t1.replace(R.id.container_layout , frag1);                toolbar.setTitle("Kohinoor Continental");                toolbar.setTitleTextColor(Color.WHITE);                t1.commit();            }        });        elite1.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                Log.d("asdasdasdasd" , "elite clicked");                FragmentTransaction t1 = getSupportFragmentManager().beginTransaction();                EliteFragment frag1 = new EliteFragment();                t1.replace(R.id.container_layout , frag1);                toolbar.setTitle("Kohinoor Elite");                toolbar.setTitleTextColor(Color.WHITE);                t1.commit();            }        });        //NavigationView nav = (NavigationView) findViewById(R.id.navId);       // View view = nav.getHeaderView(0);        bean b = (bean) getApplicationContext();        //nav.setNavigationItemSelectedListener(this);        TextView tv = (TextView) findViewById(R.id.nav_name);        TextView tv2 = (TextView) findViewById(R.id.nav_email);        tv.setText(b.username);        tv2.setText(b.email);        TextView logOut = (TextView)findViewById(R.id.menu_log_out);        TextView promoCode = (TextView)findViewById(R.id.menu_promo_code);        logOut.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                bean b = (bean) getApplicationContext();                Intent delService = new Intent(getBaseContext(), DeleteTokenService.class);                startService(delService);                b.userId = "";                b.username = "";                edit.putBoolean("email", false);                edit.remove("emailId");                edit.remove("RegId");                edit.remove("password");                edit.apply();                Intent i = new Intent(DefaultPage.this, LoginActivity.class);                i.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);                startActivity(i);                finish();            }        });        promoCode.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                Intent i = new Intent(DefaultPage.this, PromoCodeActivity.class);                startActivity(i);            }        });        toolbar = (Toolbar) findViewById(R.id.toolbar);        drawer = (DrawerLayout) findViewById(R.id.drawer_asiana);        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(                this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);        drawer.setDrawerListener(toggle);        toggle.syncState();        layoutToReplace = (LinearLayout)findViewById(R.id.container_layout);        String form = getIntent().getStringExtra("form");        fm = getSupportFragmentManager();        if (form.equals("1"))        {            FragmentTransaction t1 = fm.beginTransaction();            AsianaFragment frag1 = new AsianaFragment();            t1.add(R.id.container_layout , frag1);            toolbar.setTitle("Kohinoor Asiana");            toolbar.setTitleTextColor(Color.WHITE);            t1.commit();        }        if (form.equals("2"))        {            FragmentTransaction t1 = fm.beginTransaction();            ContinentalFragment frag1 = new ContinentalFragment();            t1.add(R.id.container_layout , frag1);            toolbar.setTitle("Kohinoor Continental");            toolbar.setTitleTextColor(Color.WHITE);            t1.commit();        }        if (form.equals("3"))        {            FragmentTransaction t1 = fm.beginTransaction();            EliteFragment frag1 = new EliteFragment();            t1.add(R.id.container_layout , frag1);            toolbar.setTitle("Kohinoor Elite");            toolbar.setTitleTextColor(Color.WHITE);            t1.commit();        }    }  /*  @Override    public boolean onNavigationItemSelected(@NonNull MenuItem item) {        int id = item.getItemId();        if (id == R.id.nav_log_out) {            bean b = (bean) getApplicationContext();            Intent delService = new Intent(this, DeleteTokenService.class);            startService(delService);            b.userId = "";            b.username = "";            edit.putBoolean("email", false);            edit.remove("emailId");            edit.remove("RegId");            edit.remove("password");            edit.apply();            Intent i = new Intent(DefaultPage.this, LoginActivity.class);            i.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);            startActivity(i);            finish();        }        if (id == R.id.nav_camera) {            Intent i = new Intent(DefaultPage.this, PromoCodeActivity.class);            startActivity(i);        }        return false;    }    */}